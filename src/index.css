@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Base colors - Enhanced palette */
    --background: 240 10% 98%;
    --foreground: 240 10% 10%;

    /* Cards and surfaces */
    --card: 0 0% 100%;
    --card-foreground: 240 10% 10%;
    --card-hover: 240 8% 97%;

    /* Popovers and overlays */
    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 10%;

    /* Primary brand colors */
    --primary: 142 76% 42%;
    --primary-foreground: 0 0% 100%;
    --primary-hover: 142 76% 48%;
    --primary-light: 142 76% 95%;

    /* Secondary colors */
    --secondary: 240 5% 96%;
    --secondary-foreground: 240 6% 10%;
    --secondary-hover: 240 5% 91%;

    /* Muted colors */
    --muted: 240 5% 96%;
    --muted-foreground: 240 4% 46%;
    --muted-hover: 240 5% 91%;

    /* Accent colors */
    --accent: 142 76% 98%;
    --accent-foreground: 142 76% 42%;
    --accent-hover: 142 76% 95%;

    /* Status colors */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --destructive-hover: 0 84% 55%;
    
    --success: 142 76% 36%;
    --success-foreground: 0 0% 100%;
    --success-light: 142 76% 95%;
    
    --warning: 45 93% 47%;
    --warning-foreground: 0 0% 100%;
    --warning-light: 45 93% 95%;
    
    --info: 158 64% 52%;
    --info-foreground: 0 0% 100%;
    --info-light: 158 64% 95%;

    /* Interactive elements */
    --border: 240 6% 90%;
    --input: 240 6% 90%;
    --ring: 142 76% 42%;

    /* Chat specific */
    --chat-background: 240 10% 99%;
    --chat-user: 142 76% 42%;
    --chat-user-foreground: 0 0% 100%;
    --chat-assistant: 0 0% 100%;
    --chat-assistant-foreground: 240 10% 10%;

    /* Gradients */
    --gradient-primary: linear-gradient(135deg, hsl(142 76% 42%), hsl(142 76% 52%));
    --gradient-background: linear-gradient(180deg, hsl(240 10% 99%), hsl(240 10% 96%));
    --gradient-surface: linear-gradient(135deg, hsl(0 0% 100%), hsl(240 8% 98%));

    /* Shadows */
    --shadow-sm: 0 1px 2px 0 hsl(0 0% 0% / 0.05);
    --shadow-md: 0 4px 6px -1px hsl(0 0% 0% / 0.1), 0 2px 4px -2px hsl(0 0% 0% / 0.1);
    --shadow-lg: 0 10px 15px -3px hsl(0 0% 0% / 0.1), 0 4px 6px -4px hsl(0 0% 0% / 0.1);
    --shadow-elevated: 0 20px 25px -5px hsl(0 0% 0% / 0.1), 0 8px 10px -6px hsl(0 0% 0% / 0.1);

    /* Border radius */
    --radius: 0.5rem;
    --radius-sm: 0.25rem;
    --radius-lg: 0.75rem;

    /* Sidebar */
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 142 76% 42%;

    /* Animation timing */
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-normal: 250ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 350ms cubic-bezier(0.4, 0, 0.2, 1);

    /* Dashboard theme colors - Green focused palette */
    --dashboard-primary: 142 76% 42%;
    --dashboard-primary-light: 142 76% 85%;
    --dashboard-secondary: 138 72% 46%;
    --dashboard-accent: 134 68% 50%;
    --dashboard-muted: 220 13% 91%;
    --dashboard-neutral: 215 28% 17%;
    
    /* KPI Card colors */
    --kpi-total: 142 76% 42%;
    --kpi-open: 138 72% 46%;
    --kpi-progress: 134 68% 50%;
    --kpi-resolved: 130 64% 54%;
    --kpi-overdue: 0 84% 60%;
    --kpi-critical: 358 75% 59%;
    
    /* Chart colors - Green spectrum */
    --chart-color-1: 142 76% 42%;
    --chart-color-2: 138 72% 46%;
    --chart-color-3: 134 68% 50%;
    --chart-color-4: 130 64% 54%;
    --chart-color-5: 126 60% 58%;
    --chart-color-6: 220 13% 91%;

    /* Custom semantic colors */
    --success: 142 71% 45%;
    --warning: 38 92% 50%;
    --sidebar-width: 16rem;
  }

  .dark {
    --background: 0 0% 7%;
    --foreground: 210 40% 98%;

    --card: 0 0% 7%;
    --card-foreground: 210 40% 98%;
    --card-hover: 0 0% 9%;

    --popover: 0 0% 7%;
    --popover-foreground: 210 40% 98%;

    --primary: 142 76% 42%;
    --primary-foreground: 0 0% 100%;
    --primary-hover: 142 76% 48%;
    --primary-light: 142 76% 15%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --secondary-hover: 217.2 32.6% 22%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --muted-hover: 217.2 32.6% 22%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --accent-hover: 217.2 32.6% 22%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --destructive-hover: 0 62.8% 35%;

    --success: 142 76% 36%;
    --success-foreground: 210 40% 98%;
    --success-light: 142 76% 15%;

    --warning: 45 93% 47%;
    --warning-foreground: 0 0% 7%;
    --warning-light: 45 93% 15%;

    --info: 158 64% 52%;
    --info-foreground: 210 40% 98%;
    --info-light: 158 64% 15%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 142 76% 42%;

    /* Chat specific - Dark mode */
    --chat-background: 217.2 32.6% 15.5%;
    --chat-user: 142 76% 42%;
    --chat-user-foreground: 0 0% 100%;
    --chat-assistant: 217.2 32.6% 17.5%;
    --chat-assistant-foreground: 210 40% 98%;

    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 142 76% 42%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 142 76% 42%;
  }

  /* Estilo para menções @usuario */
  .mention-highlight {
    background-color: hsl(var(--primary) / 0.15);
    color: hsl(var(--primary));
    padding: 2px 6px;
    border-radius: 4px;
    font-weight: 600;
    border: 1px solid hsl(var(--primary) / 0.25);
    display: inline-block;
    margin: 0 1px;
    transition: all 0.2s ease;
    user-select: all; /* Selecionar toda a menção de uma vez */
    cursor: default;
    white-space: nowrap;
  }

  .mention-highlight:hover {
    background-color: hsl(var(--primary) / 0.25);
    border-color: hsl(var(--primary) / 0.4);
    transform: translateY(-1px);
  }

  .dark .mention-highlight {
    background-color: hsl(var(--primary) / 0.2);
    border-color: hsl(var(--primary) / 0.3);
  }

  .dark .mention-highlight:hover {
    background-color: hsl(var(--primary) / 0.3);
    border-color: hsl(var(--primary) / 0.5);
  }

  /* TV Dashboard Styles */
  .tv-dashboard-container {
    @apply w-screen h-screen bg-background overflow-hidden relative;
    padding: 16px;
  }

  .tv-dashboard-buttons {
    @apply absolute top-4 right-4 z-50 flex gap-2;
  }

  .tv-button {
    @apply bg-background/80 backdrop-blur-sm border-border hover:bg-accent hover:text-accent-foreground;
  }

  /* TV Dashboard Grid - Proportional heights */
  .tv-dashboard-grid {
    @apply w-full h-full flex flex-col;
    gap: 16px;
    padding-top: 48px; /* Space for top buttons */
  }

  /* Row 1: KPIs - 15% height */
  .tv-row-kpis {
    @apply flex gap-4;
    height: 15vh;
  }

  .tv-kpi-card {
    @apply flex-1 border-border shadow-sm bg-card;
  }

  .tv-kpi-content {
    @apply p-4 h-full flex flex-col justify-center items-center text-center relative;
  }

  .tv-kpi-title {
    @apply text-lg font-medium text-muted-foreground mb-2;
  }

  .tv-kpi-value {
    @apply text-4xl font-bold text-foreground;
  }

  .tv-kpi-value-primary {
    @apply text-primary;
  }

  .tv-kpi-value-success {
    @apply text-success;
  }

  .tv-kpi-value-destructive {
    @apply text-destructive;
  }

  /* Row 2: SLA Time - 18-20% height */
  .tv-sla-card {
    @apply border-border shadow-sm bg-card;
    height: 19vh;
  }

  .tv-sla-content {
    @apply p-4 h-full flex flex-col justify-center;
  }

  .tv-sla-header {
    @apply flex items-center justify-between mb-2;
  }

  .tv-sla-title-section {
    @apply flex items-center gap-2;
  }

  .tv-sla-title {
    @apply text-xl font-semibold text-foreground;
  }

  .tv-sla-filters {
    @apply flex gap-2;
  }

  .tv-filter-select {
    @apply h-8 text-sm min-w-[120px];
  }

  .tv-sla-subtitle {
    @apply text-sm text-muted-foreground text-center mb-3;
  }

  .tv-sla-value {
    @apply text-5xl font-bold text-primary text-center mb-2;
  }

  .tv-sla-summary {
    @apply text-sm text-muted-foreground text-center;
  }

  /* Row 3: Tags - 35% height */
  .tv-tags-card {
    @apply border-border shadow-sm bg-card;
    height: 35vh;
  }

  .tv-tags-content {
    @apply p-4 h-full flex flex-col;
  }

  .tv-tags-header {
    @apply flex items-center justify-between mb-2;
  }

  .tv-tags-title-section {
    @apply flex items-center gap-2;
  }

  .tv-tags-title {
    @apply text-xl font-semibold text-foreground;
  }

  .tv-tags-filters {
    @apply flex gap-2;
  }

  .tv-tags-subtitle {
    @apply text-sm text-muted-foreground mb-2;
  }

  .tv-tags-chart {
    @apply flex-1 min-h-0;
  }

  /* Row 4: Two charts side by side - 30-32% height */
  .tv-row-charts {
    @apply flex gap-4;
    height: 31vh;
  }

  .tv-status-card,
  .tv-priority-card {
    @apply flex-1 border-border shadow-sm bg-card;
  }

  .tv-status-content,
  .tv-priority-content {
    @apply p-4 h-full flex flex-col;
  }

  .tv-chart-header {
    @apply flex items-center gap-2 mb-3;
  }

  .tv-chart-title {
    @apply text-lg font-semibold text-foreground;
  }

  .tv-chart-container {
    @apply flex-1 min-h-0;
  }

  .tv-chart-legend {
    @apply mt-2 flex flex-wrap gap-3 text-sm;
  }

  .tv-legend-item {
    @apply flex items-center gap-2;
  }

  .tv-legend-color {
    @apply w-3 h-3 rounded-full;
  }

  .tv-legend-text {
    @apply text-muted-foreground;
  }

  /* 1366x768 responsive adjustments - reduce sizes by 10-15% */
  @media (max-width: 1366px) and (max-height: 768px) {
    .tv-dashboard-container {
      padding: 12px;
    }
    
    .tv-dashboard-grid {
      gap: 12px;
      padding-top: 40px;
    }
    
    /* Reduce heights proportionally */
    .tv-row-kpis {
      height: 13vh;
      gap: 12px;
    }
    
    .tv-sla-card {
      height: 17vh;
    }
    
    .tv-tags-card {
      height: 33vh;
    }
    
    .tv-row-charts {
      height: 29vh;
      gap: 12px;
    }
    
    /* Reduce font sizes */
    .tv-kpi-content {
      @apply p-3;
    }
    
    .tv-kpi-title {
      @apply text-base mb-1;
    }
    
    .tv-kpi-value {
      @apply text-3xl;
    }
    
    .tv-sla-content,
    .tv-tags-content,
    .tv-status-content,
    .tv-priority-content {
      @apply p-3;
    }
    
    .tv-sla-title,
    .tv-tags-title,
    .tv-chart-title {
      @apply text-lg;
    }
    
    .tv-sla-value {
      @apply text-4xl;
    }
    
    .tv-filter-select {
      @apply h-7 text-xs min-w-[100px];
    }
    
    .tv-chart-legend {
      @apply text-xs gap-2;
    }
    
    .tv-legend-color {
      @apply w-2 h-2;
    }
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Improve readability */
  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold tracking-tight;
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }

  /* Focus styles */
  :focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }

  /* Selection styles */
  ::selection {
    @apply bg-primary/20 text-primary-foreground;
  }
}

@layer components {
  /* Enhanced card styles */
  .card-elevated {
    @apply bg-gradient-to-b from-card to-card/95 shadow-lg hover:shadow-xl transition-shadow duration-300;
  }

  .card-interactive {
    @apply hover:bg-card-hover transition-colors duration-200 cursor-pointer;
  }

  /* Button enhancements */
  .btn-gradient {
    @apply bg-gradient-to-r from-primary to-primary-hover text-primary-foreground;
  }

  /* Glass tooltip styles */
  .glass-tooltip {
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  }

  .dark .glass-tooltip {
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  }

  /* Chart animations */
  .recharts-pie-sector {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    transform-origin: center;
  }

  .recharts-pie-sector:hover {
    filter: brightness(1.1);
    transform: scale(1.05);
  }

  .recharts-bar-rectangle {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .recharts-bar-rectangle:hover {
    filter: brightness(1.1);
  }

  /* Status indicators */
  .status-dot {
    @apply w-2 h-2 rounded-full inline-block mr-2;
  }

  .status-success {
    @apply bg-success;
  }

  .status-warning {
    @apply bg-warning;
  }

  .status-error {
    @apply bg-destructive;
  }

  .status-info {
    @apply bg-info;
  }

  /* Loading states */
  .skeleton {
    @apply bg-muted animate-pulse;
  }

  /* Micro-interactions */
  .hover-lift {
    @apply transform hover:-translate-y-1 transition-transform duration-200;
  }

  .hover-scale {
    @apply transform hover:scale-105 transition-transform duration-200;
  }

  .hover-glow {
    @apply hover:shadow-lg hover:shadow-primary/25 transition-shadow duration-300;
  }

  /* Text utilities */
  .text-gradient {
    @apply bg-gradient-to-r from-primary to-primary-hover bg-clip-text text-transparent;
  }

  /* Form improvements */
  .form-section {
    @apply space-y-4 p-6 bg-card rounded-lg border;
  }

  .form-group {
    @apply space-y-2;
  }

  /* Navigation enhancements */
  .nav-item {
    @apply relative flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-all duration-200;
  }

  .nav-item-active {
    @apply bg-primary text-primary-foreground;
  }

  .nav-item-inactive {
    @apply text-muted-foreground hover:text-foreground hover:bg-muted;
  }

  /* Responsive utilities */
  .container-responsive {
    @apply container mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* Accessibility improvements */
  .sr-only {
    @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
    clip: rect(0, 0, 0, 0);
  }

  /* Enhanced scrollbars */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--muted)) transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: hsl(var(--muted));
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--muted-foreground));
  }

  /* Animações minimalistas para ticket system */
  .animate-glow-pulse {
    animation: glow-minimal 3s ease-in-out infinite;
  }
  
  .animate-glow-subtle {
    animation: subtle-highlight 4s ease-in-out infinite;
  }

  /* Animação suave e discreta para contador crítico */
  .animate-pulse-soft {
    animation: pulse-soft 2.5s ease-in-out infinite;
  }

  /* Animação suave para tickets críticos no Modo TV */
  .animate-pulse-gentle {
    animation: pulse-gentle 2s ease-in-out infinite;
  }
  
  /* Animação muito sutil para badges importantes */
  @keyframes glow-minimal {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.8;
    }
  }
  
  /* Animação praticamente imperceptível para tickets vencidos */
  @keyframes subtle-highlight {
    0%, 100% {
      background-color: rgba(239, 68, 68, 0.05);
    }
    50% {
      background-color: rgba(239, 68, 68, 0.08);
    }
  }

  /* Animação muito sutil para badges críticas */
  @keyframes pulse-soft {
    0%, 100% {
      opacity: 1;
      box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.3);
    }
    50% {
      opacity: 0.95;
      box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.1);
    }
  }

  /* Animação suave de respiração para tickets críticos no Modo TV */
  @keyframes pulse-gentle {
    0%, 100% { 
      opacity: 0.9;
      transform: scale(1);
    }
    50% { 
      opacity: 1;
      transform: scale(1.02);
    }
  }

  /* Line clamp utility */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Scrollbar personalizada para Kanban */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--muted)) hsl(var(--background));
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: hsl(var(--background));
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: hsl(var(--muted));
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground));
  }
}

/* TV Mode Styles - Layout Otimizado para 1920x1080 */
.tv-mode {
  background: var(--background);
  overflow-y: hidden;
  
  .main-content {
    padding-top: 0;
  }
  
  nav {
    display: none;
  }
}

/* TV Density - Classe global para modo compacto */
.tv-density {
  overflow-y: hidden;
  height: 100vh;
}

.tv-density .tv-mode-wrapper {
  padding: 20px;
  background: var(--background);
  height: 100vh;
  overflow-y: hidden;
}

.tv-density .tv-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
  padding: 0;
  height: 40px;
}

.tv-density .tv-header h2 {
  font-size: 18px;
  font-weight: 600;
  margin: 0;
}

.tv-density .tv-header p {
  font-size: 12px;
  margin: 0;
}

/* Grade principal para 1920x1080 */
.tv-density .tv-dashboard-grid {
  display: flex;
  flex-direction: column;
  gap: 12px;
  height: calc(100vh - 92px);
  overflow: hidden;
}

/* Linha 1 - 4 Cards KPI (altura 120px) */
.tv-density .tv-kpi-card {
  height: 120px;
  overflow: hidden;
}

.tv-density .tv-kpi-card .card-content {
  padding: 12px;
}

.tv-density .tv-kpi-card .lucide {
  width: 24px;
  height: 24px;
}

.tv-density .tv-kpi-card .text-3xl {
  font-size: 48px;
  line-height: 1.1;
}

.tv-density .tv-kpi-card .text-sm {
  font-size: 12px;
}

/* Linha 2 - Tempo de Resolução SLA (altura 160px) */
.tv-density .tv-sla-chart {
  height: 160px;
}

.tv-density .tv-sla-chart .card-header {
  padding: 8px 12px;
  padding-bottom: 0;
}

.tv-density .tv-sla-chart .card-content {
  padding: 12px;
  padding-top: 8px;
}

.tv-density .tv-sla-chart h3 {
  font-size: 18px;
  font-weight: 600;
  margin: 0;
}

.tv-density .tv-sla-chart .text-6xl {
  font-size: 56px;
  line-height: 1;
}

.tv-density .tv-sla-chart .text-xs {
  font-size: 12px;
}

/* Linha 3 - Tags Volume (altura 260px) */
.tv-density .tv-tags-chart {
  height: 260px;
}

.tv-density .tv-tags-chart .card-header {
  padding: 8px 12px;
  height: 32px;
}

.tv-density .tv-tags-chart .card-content {
  padding: 12px;
  padding-top: 0;
}

.tv-density .tv-tags-chart h3 {
  font-size: 18px;
  font-weight: 600;
  margin: 0;
}

/* Configurações dos gráficos de tags */
.tv-density .recharts-text {
  font-size: 11px;
}

.tv-density .recharts-cartesian-axis-tick-value {
  font-size: 11px;
}

.tv-density .recharts-tooltip-wrapper {
  font-size: 11px;
}

/* Linha 4 - Status e Prioridade (altura 260px cada) */
.tv-density .tv-bottom-chart {
  height: 260px;
}

.tv-density .tv-bottom-chart .card-header {
  padding: 8px 12px;
  height: 32px;
}

.tv-density .tv-bottom-chart .card-content {
  padding: 12px;
  padding-top: 0;
}

.tv-density .tv-bottom-chart h3 {
  font-size: 18px;
  font-weight: 600;
  margin: 0;
}

/* Configurações do gráfico donut */
.tv-density .recharts-pie-sector {
  stroke-width: 20px;
}

.tv-density .recharts-legend-item-text {
  font-size: 11px;
}

/* Filtros mini no modo TV */
.tv-density .tv-mini-filters {
  display: flex;
  gap: 8px;
  align-items: center;
}

.tv-density .tv-mini-filters .lucide {
  width: 14px;
  height: 14px;
}

.tv-density .tv-mini-filters button {
  padding: 4px 6px;
  font-size: 0;
}

/* Escalonamento para 1366x768 */
@media (max-width: 1400px) {
  .tv-density .tv-dashboard-grid {
    transform: scale(0.9);
    transform-origin: top left;
    width: 111.11%;
    height: calc(111.11vh - 102px);
  }
  
  .tv-density .tv-kpi-card {
    height: 104px;
  }
  
  .tv-density .tv-sla-chart {
    height: 140px;
  }
  
  .tv-density .tv-tags-chart {
    height: 220px;
  }
  
  .tv-density .tv-bottom-chart {
    height: 220px;
  }
  
  .tv-density .tv-sla-chart .text-6xl {
    font-size: 48px;
  }
  
  .tv-density .tv-kpi-card .text-3xl {
    font-size: 42px;
  }
  
  .tv-density .tv-header h2 {
    font-size: 16px;
  }
  
  .tv-density .recharts-text {
    font-size: 10px;
  }
}

/* Compatibilidade com navegação escondida */
[data-app-layout].tv-mode {
  header, nav, aside, .lateral-sidebar, .breadcrumb {
    display: none !important;
  }
  
  main {
    margin: 0 !important;
    padding: 0 !important;
  }
}

/* Ensure all dropdowns and overlays have proper z-index in TV mode */
.tv-mode-wrapper .radix-popover-content,
.tv-mode-wrapper .radix-dropdown-menu-content,
.tv-mode-wrapper .radix-select-content {
  z-index: 10000;
}

/* Typography adjustments for TV mode */
.tv-mode-wrapper h1,
.tv-mode-wrapper h2,
.tv-mode-wrapper h3 {
  font-size: clamp(1rem, 2vw, 1.5rem);
}

.tv-mode-wrapper .text-4xl {
  font-size: clamp(1.5rem, 3vw, 2.5rem) !important;
}

.tv-mode-wrapper .text-3xl {
  font-size: clamp(1.25rem, 2.5vw, 2rem) !important;
}

/* Melhorias de texto e responsividade */
.break-words {
  word-wrap: break-word;
  word-break: break-word;
  hyphens: auto;
}

/* Hover states minimalistas */
.card-hover-lift {
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.card-hover-lift:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
}

/* Design system moderno */
.modern-card {
  background: #ffffff;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  transition: all 0.2s ease;
}

.modern-card:hover {
  border-color: #d1d5db;
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
}

/* Estilos para menções de usuários */
.mention-user {
  background-color: hsl(var(--primary) / 0.1) !important;
  color: hsl(var(--primary)) !important;
  padding: 2px 6px !important;
  border-radius: 4px !important;
  font-weight: 500 !important;
  margin: 0 1px !important;
  border: 1px solid hsl(var(--primary) / 0.2) !important;
  display: inline-block !important;
}

.dark .mention-user {
  background-color: hsl(var(--primary) / 0.15) !important;
  border-color: hsl(var(--primary) / 0.3) !important;
}

/* Efeito glassmorphism sutil para elementos flutuantes */
.glass {
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.dark .glass {
  background: rgba(0, 0, 0, 0.4);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Glassmorphism para dropdowns de filtros (mesmo efeito da navbar) */
.dropdown-filter {
  background: rgba(255, 255, 255, 0.15) !important; /* fundo translúcido */
  backdrop-filter: blur(8px) !important; /* blur idêntico ao da navbar */
  -webkit-backdrop-filter: blur(8px) !important; /* compatibilidade Safari */
  border: 1px solid rgba(255, 255, 255, 0.3) !important; /* borda leve */
  border-radius: 8px !important; /* cantos arredondados sutis */
}

.dark .dropdown-filter {
  background: rgba(0, 0, 0, 0.25) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
}

/* macOS-style Card Effects */
.macos-card {
  transition: all 200ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
  border-radius: 12px;
  box-shadow: 
    0 1px 3px rgba(0, 0, 0, 0.08),
    0 1px 2px rgba(0, 0, 0, 0.06);
}

.macos-card:hover {
  /* Animação de hover removida para melhorar performance */
  box-shadow: 
    0 4px 12px rgba(0, 0, 0, 0.12),
    0 2px 4px rgba(0, 0, 0, 0.08);
}

.macos-card:active {
  /* Animação de active removida para melhorar performance */
  transition-duration: 100ms;
}

.macos-card-kanban {
  transition: all 200ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
  border-radius: 10px;
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 
    0 2px 6px rgba(0, 0, 0, 0.08),
    0 1px 3px rgba(0, 0, 0, 0.06),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.macos-card-kanban:hover {
  transform: scale(1.02) translateY(-1px);
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  box-shadow: 
    0 6px 16px rgba(0, 0, 0, 0.12),
    0 3px 8px rgba(0, 0, 0, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

.macos-card-kanban:active {
  transform: scale(1.01) translateY(0px);
  transition-duration: 100ms;
}

/* TV Mode Styles */
.tv-mode {
  /* Ocultar navegação e elementos de chrome */
}

.tv-mode [data-app-layout] .navbar,
.tv-mode [data-app-layout] .sidebar,
.tv-mode [data-app-layout] .breadcrumbs,
.tv-mode [data-app-layout] .page-header {
  display: none !important;
}

.tv-mode-wrapper {
  height: 100vh;
  overflow: hidden;
  padding: 12px 16px;
  background: hsl(var(--background));
  box-sizing: border-box;
}

/* TV Mode Grid Layout - 1920x1080 */
.tv-grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  grid-template-rows: 120px 140px 240px 220px;
  grid-template-areas:
    "card1 card1 card1 card2 card2 card2 card3 card3 card3 card4 card4 card4"
    "time  time  time  time  time  time  time  time  time  time  time  time"
    "tags  tags  tags  tags  tags  tags  tags  tags  tags  tags  tags  tags"
    "status status status status status status prio  prio  prio  prio  prio  prio";
  gap: 8px;
  height: 100vh;
  padding: 12px 16px;
  box-sizing: border-box;
  overflow: hidden;
}

/* Grid Areas */
.tv-area-card1 { grid-area: card1; }
.tv-area-card2 { grid-area: card2; }
.tv-area-card3 { grid-area: card3; }
.tv-area-card4 { grid-area: card4; }
.tv-area-time { grid-area: time; }
.tv-area-tags { grid-area: tags; }
.tv-area-status { grid-area: status; }
.tv-area-prio { grid-area: prio; }

/* TV Mode Mini Controls */
.tv-mini-controls {
  position: absolute;
  top: 12px;
  right: 20px;
  display: flex;
  gap: 8px;
  z-index: 50;
}

.tv-mini-controls .tv-exit-button,
.tv-mini-controls .tv-refresh-button {
  width: 32px;
  height: 32px;
  padding: 0;
  background: hsl(var(--background)/0.8);
  border: 1px solid hsl(var(--border));
  backdrop-filter: blur(8px);
}

/* TV Mode Typography */
.tv-mode .card-title {
  font-size: 16px !important;
  font-weight: 600;
  line-height: 1.2;
}

.tv-mode .card-description {
  font-size: 11px !important;
  line-height: 1.3;
}

.tv-mode .kpi-value {
  font-size: 48px !important;
  line-height: 1;
  font-weight: 700;
}

.tv-mode .chart-title {
  font-size: 16px !important;
  font-weight: 600;
  line-height: 1.2;
}

.tv-mode .chart-subtitle {
  font-size: 11px !important;
  line-height: 1.3;
}

.tv-mode .recharts-text {
  font-size: 11px !important;
}

.tv-mode .sla-big-number {
  font-size: 56px !important;
  line-height: 1;
  text-align: center;
  font-weight: 700;
}

/* TV Mode Card Styling */
.tv-mode .card {
  padding: 8px !important;
  height: 100%;
  display: flex;
  flex-direction: column;
}

.tv-mode .card-content {
  padding: 4px !important;
  flex: 1;
  display: flex;
  flex-direction: column;
}

/* Hide tooltips and interactions in TV mode */
.tv-mode .recharts-tooltip-wrapper {
  display: none !important;
}

.tv-mode .recharts-legend-wrapper {
  font-size: 11px !important;
}

/* TV Mode Styles */
.tv-mode-container {
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  background: hsl(var(--background));
}

.tv-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: 120px 50px 170px 310px 270px;
  grid-template-areas:
    "kpi1 kpi2 kpi3 kpi4"
    "filters filters filters filters"
    "sla sla sla sla"
    "tags tags tags tags"
    "status status priority priority";
  gap: 16px;
  padding: 16px;
  height: 100vh;
  box-sizing: border-box;
}

/* KPI Cards */
.tv-kpi-card {
  grid-area: auto;
  display: flex;
  align-items: center;
  justify-content: center;
}

.tv-kpi-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 16px;
  height: 100%;
}

.tv-kpi-title {
  font-size: 14px;
  font-weight: 500;
  color: hsl(var(--muted-foreground));
  margin-bottom: 8px;
}

.tv-kpi-value {
  font-size: 42px;
  font-weight: bold;
  line-height: 1;
}

/* Filters Bar */
.tv-filters-bar {
  grid-area: filters;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  background: hsl(var(--card));
  border: 1px solid hsl(var(--border));
  border-radius: 8px;
  padding: 8px 16px;
}

/* Chart Cards */
.tv-sla-card {
  grid-area: sla;
}

.tv-tags-card {
  grid-area: tags;
}

.tv-status-card {
  grid-area: status;
}

.tv-priority-card {
  grid-area: priority;
}

.tv-card-header {
  padding: 16px 16px 8px 16px;
}

.tv-card-title {
  font-size: 18px;
  font-weight: 600;
}

.tv-sla-content {
  padding: 8px 16px 16px 16px;
  height: calc(100% - 60px);
}

.tv-tags-content {
  padding: 8px 16px 16px 16px;
  height: calc(100% - 60px);
}

.tv-status-content {
  padding: 8px 16px 16px 16px;
  height: calc(100% - 60px);
  display: flex;
  flex-direction: column;
}

.tv-priority-content {
  padding: 8px 16px 16px 16px;
  height: calc(100% - 60px);
}

/* TV Dashboard Mode Styles */
.tv-dashboard-container {
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  background: hsl(var(--background));
  padding: 16px;
  box-sizing: border-box;
  position: relative;
}

.tv-dashboard-buttons {
  position: fixed;
  top: 16px;
  right: 16px;
  z-index: 50;
  display: flex;
  gap: 8px;
}

.tv-button {
  width: 40px;
  height: 40px;
  padding: 0;
  background: hsl(var(--background));
  border: 1px solid hsl(var(--border));
  color: hsl(var(--foreground));
}

.tv-dashboard-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 16px;
  height: calc(100vh - 32px);
  grid-template-rows: 
    minmax(10vh, 12vh)     /* Row 1: KPI Cards */
    minmax(14vh, 16vh)     /* Row 2: SLA Resolution */
    minmax(26vh, 30vh)     /* Row 3: Tags Volume */
    minmax(22vh, 24vh);    /* Row 4: Status + Priority */
}

/* Row 1: KPI Cards */
.tv-kpi-card {
  border: 1px solid hsl(var(--border));
  background: hsl(var(--card));
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.tv-kpi-content {
  text-align: center;
  padding: 12px !important;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  height: 100%;
}

.tv-kpi-title {
  font-size: 14px;
  color: hsl(var(--muted-foreground));
  margin-bottom: 8px;
  font-weight: 500;
}

.tv-kpi-value {
  font-size: clamp(24px, 4vw, 48px);
  font-weight: bold;
  color: hsl(var(--foreground));
  line-height: 1;
}

.tv-kpi-value-primary {
  color: hsl(var(--primary));
}

.tv-kpi-value-success {
  color: hsl(var(--success));
}

.tv-kpi-value-destructive {
  color: hsl(var(--destructive));
}

/* Row 2: SLA Resolution Time */
.tv-sla-card {
  grid-column: 1 / -1;
  border: 1px solid hsl(var(--border));
  background: hsl(var(--card));
  border-radius: 8px;
}

.tv-sla-content {
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 16px !important;
}

.tv-sla-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 12px;
  gap: 12px;
}

.tv-sla-header > span {
  font-size: 18px;
  font-weight: 600;
  color: hsl(var(--foreground));
  flex: 1;
}

.tv-sla-filters {
  display: flex;
  gap: 8px;
}

.tv-filter-select {
  height: 32px;
  width: 100px;
  font-size: 12px;
}

.tv-sla-value {
  text-align: center;
  font-size: clamp(32px, 6vw, 64px);
  font-weight: bold;
  color: hsl(var(--primary));
  margin: 8px 0;
}

.tv-sla-subtitle {
  text-align: center;
  font-size: 14px;
  color: hsl(var(--muted-foreground));
  margin-top: 8px;
}

/* Row 3: Tags Volume */
.tv-tags-card {
  grid-column: 1 / -1;
  border: 1px solid hsl(var(--border));
  background: hsl(var(--card));
  border-radius: 8px;
}

.tv-tags-content {
  height: 100%;
  padding: 16px !important;
  display: flex;
  flex-direction: column;
}

.tv-tags-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 12px;
  gap: 12px;
}

.tv-tags-header > span {
  font-size: 18px;
  font-weight: 600;
  color: hsl(var(--foreground));
  flex: 1;
}

.tv-tags-filters {
  display: flex;
  gap: 8px;
}

.tv-tags-chart {
  flex: 1;
  min-height: 0;
}

/* Row 4: Status Distribution + Priority */
.tv-status-card,
.tv-priority-card {
  grid-column: span 2;
  border: 1px solid hsl(var(--border));
  background: hsl(var(--card));
  border-radius: 8px;
}

.tv-status-content,
.tv-priority-content {
  height: 100%;
  padding: 16px !important;
  display: flex;
  flex-direction: column;
}

.tv-chart-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 12px;
}

.tv-chart-header > span {
  font-size: 16px;
  font-weight: 600;
  color: hsl(var(--foreground));
}

.tv-chart-container {
  flex: 1;
  min-height: 0;
  margin-bottom: 8px;
}

.tv-chart-legend {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin-top: 8px;
}

.tv-legend-item {
  display: flex;
  align-items: center;
  gap: 6px;
}

.tv-legend-color {
  width: 12px;
  height: 12px;
  border-radius: 2px;
}

.tv-legend-text {
  font-size: 12px;
  color: hsl(var(--foreground));
  white-space: nowrap;
}

/* Responsive adjustments for 1366x768 */
@media (max-width: 1400px) {
  .tv-dashboard-grid {
    grid-template-rows: 
      minmax(12vh, 14vh)     /* KPI Cards */
      minmax(14vh, 16vh)     /* SLA Resolution */
      minmax(28vh, 32vh)     /* Tags Volume */
      minmax(24vh, 26vh);    /* Status + Priority */
  }
  
  .tv-kpi-title {
    font-size: 12px;
  }
  
  .tv-sla-header > span,
  .tv-tags-header > span {
    font-size: 16px;
  }
  
  .tv-chart-header > span {
    font-size: 14px;
  }
  
  .tv-filter-select {
    width: 80px;
    font-size: 11px;
  }
  
  .tv-legend-text {
    font-size: 11px;
  }
}

/* Responsive adjustments for smaller screens */
@media (max-width: 1366px) {
  .tv-grid {
    grid-template-rows: 100px 45px 150px 260px 230px;
    gap: 12px;
    padding: 12px;
  }
  
  .tv-kpi-value {
    font-size: 36px;
  }
  
  .tv-card-title {
    font-size: 16px;
  }
}